(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{24:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),c=a.n(i),s=(a(24),a(8)),o=a(10),h=a(2),l=a(11),u=a(12),d=function(){function e(){Object(l.a)(this,e),this.board=[];for(var t=0;t<64;t++)this.board.push({hasShip:!1,ship:{},isShot:!1})}return Object(u.a)(e,[{key:"placeShip",value:function(e,t){for(var a=0;a<t.length;a++)this.board[t[a]].hasShip=!0,this.board[t[a]].ship=e}},{key:"shipArray",value:function(e,t,a){for(var n=[],r=0;r<e.length;r++)"horizontal"===a&&n.push(t+r),"vertical"===a&&n.push(t+8*r);return n}},{key:"checkPlacement",value:function(e){var t=this;return![7,15,23,31,39,47,55,63].some((function(t){return[t,t+1].every((function(t){return e.includes(t)}))}))&&(!e.some((function(e){return!t.board[e]}))&&!e.some((function(e){return t.board[e].hasShip})))}},{key:"receiveAttack",value:function(e){if(!1!==this.board[e].isShot)return!1;this.board[e].isShot=!0}},{key:"checkAttack",value:function(e){return!1===this.board[e].isShot}},{key:"didShotHit",value:function(e){return this.board[e].hasShip}},{key:"allSunk",value:function(){return!!this.board.filter((function(e){return e.hasShip})).every((function(e){return e.isShot}))}}]),e}(),b=[{name:"carrier",length:5},{name:"battleship",length:4},{name:"destroyer",length:3},{name:"submarine",length:3},{name:"patrol boat",length:2}],j=function(){function e(t){var a=this;Object(l.a)(this,e),this.name=t,this.ships=b,this.gameBoard=new d;for(var n=function(e){var t=void 0,n=void 0,r=Math.floor(2*Math.random()),i=[];a.gameBoard.board.forEach((function(e,t){!1===e.hasShip&&i.push(t)}));var c=a.gameBoard.shipArray(b[e],t,n);do{t=Math.floor(Math.random()*i.length),n=Math.floor(2*Math.random()),n=0===r?"horizontal":"vertical",c=a.gameBoard.shipArray(b[e],t,n)}while(!1===a.gameBoard.checkPlacement(c));a.gameBoard.placeShip(b[e],c)},r=0;r<b.length;r++)n(r)}return Object(u.a)(e,[{key:"receiveAttack",value:function(e){return this.gameBoard.receiveAttack(e),this}},{key:"receiveRandomAttack",value:function(){var e=[];this.gameBoard.board.forEach((function(t,a){!1===t.isShot&&e.push(a)}));var t=Math.floor(Math.random()*e.length);return e[t]}}]),e}(),m=a(1);var v=function(e){var t=this,a=e.player,n=e.handleClick;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("h1",{children:[a.name,"'s Waters"]}),Object(m.jsx)("div",{className:"board",children:a.gameBoard.board.map((function(e,r){return Object(m.jsx)("button",{type:"submit",className:"cell",onClick:n.bind(t,a,r),shot:e.isShot.toString(),shotShip:e.isShot&&e.hasShip?"true":"false"},Math.random())}))})]})};var p=function(e){var t=e.player;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Player's Waters"}),Object(m.jsx)("div",{className:"board",children:t.gameBoard.board.map((function(e,t){return Object(m.jsx)("button",{type:"submit",className:"cell",shot:e.isShot.toString(),ship:e.hasShip.toString(),shotShip:e.isShot&&e.hasShip?"true":"false"},Math.random())}))})]})};var f=function(e){var t=e.handleWin,a=Object(n.useState)(new j("Player")),r=Object(s.a)(a,1)[0],i=Object(n.useState)(new j("Enemy")),c=Object(s.a)(i,1)[0],o=Object(n.useState)(0),l=Object(s.a)(o,2),u=l[0],d=l[1],b=c.gameBoard.allSunk(),f=r.gameBoard.allSunk(),O=Object(h.f)(),g=function(){O.push("gameover")};function S(e,t){if(!0===e.gameBoard.checkAttack(t)){c.receiveAttack(t);var a=r.receiveRandomAttack();r.receiveAttack(a),d(Math.random())}}return!0===b&&(t("Player"),g()),!0===f&&(t("Enemy"),g()),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"title",children:"Fast Battleship"}),Object(m.jsxs)("div",{className:"game-board",children:[Object(m.jsx)("div",{className:"player-board",children:Object(m.jsx)(p,{player:r,handleClick:S},u)}),Object(m.jsx)("div",{className:"ai-board",children:Object(m.jsx)(v,{player:c,handleClick:S},0)})]})]})};var O=function(e){var t=e.winner,a=Object(h.f)();return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"title",children:[t," wins!"]}),Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"play-again-container",children:Object(m.jsx)("button",{onClick:function(){a.push("/game")},className:"play-again",children:"Play Again?"})})]})},g=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],i=function(e){r(e)};return Object(m.jsx)(o.a,{children:Object(m.jsxs)(h.c,{children:[Object(m.jsx)(h.a,{path:"/game",exact:!0,component:function(){return Object(m.jsx)(f,{winner:a,handleWin:i})}}),Object(m.jsx)(h.a,{path:"/gameover",exact:!0,component:function(){return Object(m.jsx)(O,{winner:a})}})]})})};c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(g,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.09d9ebd3.chunk.js.map